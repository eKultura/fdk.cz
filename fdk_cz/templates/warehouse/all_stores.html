{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "SkladovÃ© hospodÃ¡Å™stvÃ­" %} | FDK.cz{% endblock %}
{% block header_title %}ğŸ“¦ {% trans "SkladovÃ© hospodÃ¡Å™stvÃ­" %}{% endblock %}
{% block header_subtitle %}{% trans "PÅ™ehled vÅ¡ech skladovÃ½ch poloÅ¾ek a zÃ¡sob" %}{% endblock %}

{% block content %}
<div style="max-width: 1400px; margin: 0 auto;">

  <!-- Action Buttons -->
  <div style="margin-bottom: 1.5rem;">
    <a href="{% url 'create_item' %}" class="btn btn-primary">â• {% trans "PÅ™idat novou poloÅ¾ku" %}</a>
  </div>

  <!-- Warehouse Items Table -->
  <div class="content-card">
    <div style="margin-bottom: 1.5rem;">
      <h3 style="font-size: 1.25rem; font-weight: 600; color: #1e293b;">{% trans "Seznam skladovÃ½ch poloÅ¾ek" %}</h3>
    </div>

    {% if items %}
    <div style="overflow-x: auto;">
      <table class="data-table">
        <thead>
          <tr>
            <th>{% trans "NÃ¡zev" %}</th>
            <th>{% trans "KÃ³d" %}</th>
            <th>{% trans "Popis" %}</th>
            <th style="text-align: center;">{% trans "MnoÅ¾stvÃ­" %}</th>
            <th style="text-align: right;">{% trans "Cena za jednotku" %}</th>
            <th>{% trans "Lokalita" %}</th>
            <th style="text-align: center;">{% trans "Akce" %}</th>
          </tr>
        </thead>
        <tbody>
          {% for item in items %}
          <tr>
            <td>
              <div style="font-weight: 600; color: #1e293b;">{{ item.name }}</div>
            </td>
            <td>
              <div style="font-family: monospace; font-size: 0.875rem; color: #64748b;">{{ item.code }}</div>
            </td>
            <td>
              <div style="color: #64748b; font-size: 0.875rem;">{{ item.description|truncatewords:10 }}</div>
            </td>
            <td style="text-align: center;">
              <span style="padding: 4px 12px; background: {% if item.quantity > 50 %}#d1fae5{% elif item.quantity > 10 %}#fef3c7{% else %}#fee2e2{% endif %}; color: {% if item.quantity > 50 %}#065f46{% elif item.quantity > 10 %}#92400e{% else %}#991b1b{% endif %}; border-radius: 12px; font-weight: 600; font-size: 0.875rem;">
                {{ item.quantity }}
              </span>
            </td>
            <td style="text-align: right;">
              <div style="font-weight: 600; color: #1e293b;">{{ item.unit_price|floatformat:2 }} KÄ</div>
            </td>
            <td>
              <div style="color: #475569; font-size: 0.875rem;">ğŸ“ {{ item.location|default:"â€”" }}</div>
            </td>
            <td style="text-align: center;">
              <div style="display: flex; gap: 0.5rem; justify-content: center;">
                <a href="{% url 'edit_item' item.id %}" class="btn btn-sm btn-outline" style="padding: 4px 12px;">âœï¸ {% trans "Upravit" %}</a>
                <a href="{% url 'delete_item' item.id %}" class="btn btn-sm btn-outline" style="padding: 4px 12px; color: #dc2626; border-color: #dc2626;" onclick="return confirm('{% trans "Opravdu chcete smazat tuto poloÅ¾ku?" %}')">ğŸ—‘ï¸ {% trans "Smazat" %}</a>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div style="text-align: center; padding: 3rem; background: #f8fafc; border-radius: 8px;">
      <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ“¦</div>
      <h3 style="font-size: 1.25rem; font-weight: 600; color: #1e293b; margin-bottom: 0.5rem;">{% trans "Å½Ã¡dnÃ© skladovÃ© poloÅ¾ky" %}</h3>
      <p style="color: #64748b; margin-bottom: 1.5rem;">{% trans "ZatÃ­m nemÃ¡te Å¾Ã¡dnÃ© poloÅ¾ky ve skladu." %}</p>
      <a href="{% url 'create_item' %}" class="btn btn-primary">â• {% trans "PÅ™idat prvnÃ­ poloÅ¾ku" %}</a>
    </div>
    {% endif %}
  </div>

</div>
{% endblock %}
