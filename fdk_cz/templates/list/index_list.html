{% extends "base.html" %}
{% block title %}Moje seznamy | FDK.cz{% endblock %}
{% block header_title %}ğŸ“ Moje seznamy{% endblock %}
{% block header_subtitle %}SprÃ¡va seznamÅ¯ a ÃºkolovÃ½ch poloÅ¾ek{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Lists Table (2/3 width) -->
    <div class="lg:col-span-2">
      <div class="content-card">
        <h3 class="text-xl font-semibold mb-4">ğŸ“ Moje seznamy</h3>
        {% if lists %}
          <div class="overflow-x-auto">
            <table class="data-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>NÃ¡zev</th>
                  <th>Popis</th>
                  <th class="hidden md:table-cell">PoloÅ¾ek</th>
                  <th class="hidden md:table-cell">VytvoÅ™eno</th>
                  <th class="text-right">Akce</th>
                </tr>
              </thead>
              <tbody>
                {% for list in lists %}
                  <tr>
                    <td class="text-gray-600">{{ list.list_id }}</td>
                    <td>
                      <a href="{% url 'detail_list' list.list_id %}" class="font-semibold text-blue-600 hover:underline">
                        {{ list.name }}
                      </a>
                    </td>
                    <td class="text-gray-600">{{ list.description|default:"â€”"|truncatewords:10 }}</td>
                    <td class="hidden md:table-cell text-gray-600">
                      {{ list.items.count|default:0 }}
                    </td>
                    <td class="hidden md:table-cell text-gray-500 text-sm">
                      {{ list.created|date:"d.m.Y"|default:"â€”" }}
                    </td>
                    <td class="text-right">
                      <div class="data-table-actions">
                        <a href="{% url 'detail_list' list.list_id %}">ğŸ‘ï¸ Detail</a>
                        <a href="{% url 'edit_list' list.list_id %}">âœï¸ Upravit</a>
                      </div>
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        {% else %}
          <div class="text-center py-12 bg-gray-50 rounded-lg">
            <div class="text-5xl mb-3">ğŸ“</div>
            <p class="text-gray-600 mb-4">ZatÃ­m nemÃ¡te vytvoÅ™enÃ© Å¾Ã¡dnÃ© seznamy</p>
            <a href="{% url 'create_list' %}" class="btn btn-primary">+ VytvoÅ™it prvnÃ­ seznam</a>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- Quick Action Card (1/3 width) -->
    <div>
      <div class="content-card">
        <h4 class="text-lg font-semibold text-gray-800 mb-4">â• NovÃ½ seznam</h4>
        <p class="text-gray-600 text-sm mb-4">VytvoÅ™te novÃ½ seznam pro organizaci vaÅ¡ich ÃºkolÅ¯ a poloÅ¾ek.</p>
        <a href="{% url 'create_list' %}" class="btn btn-primary w-full">+ VytvoÅ™it novÃ½ seznam</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
