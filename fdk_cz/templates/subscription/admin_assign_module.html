{% extends "base.html" %}
{% block title %}PÅ™iÅ™adit modul uÅ¾ivateli | FDK.cz{% endblock %}
{% block header_title %}â• PÅ™iÅ™adit modul uÅ¾ivateli{% endblock %}
{% block header_subtitle %}Administrace pÅ™edplatnÃ½ch{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">

  <div class="content-card">
    <form method="POST">
      {% csrf_token %}

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-2">UÅ¾ivatel</label>
        <select name="user_id" class="form-control" required>
          <option value="">-- Vyberte uÅ¾ivatele --</option>
          {% for user in users %}
            <option value="{{ user.id }}">{{ user.username }} ({{ user.email }})</option>
          {% endfor %}
        </select>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-2">Modul</label>
        <select name="module_id" class="form-control" required>
          <option value="">-- Vyberte modul --</option>
          {% for module in modules %}
            <option value="{{ module.module_id }}">
              {{ module.display_name }}
              ({{ module.price_monthly }} KÄ/mÄ›sÃ­c, {{ module.price_yearly }} KÄ/rok)
            </option>
          {% endfor %}
        </select>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-semibold mb-2">Typ pÅ™edplatnÃ©ho</label>

        <div class="space-y-2">
          <label class="flex items-center">
            <input type="radio" name="subscription_type" value="monthly" class="mr-2">
            <span>ğŸ“… MÄ›sÃ­ÄnÃ­ (30 dnÃ­)</span>
          </label>

          <label class="flex items-center">
            <input type="radio" name="subscription_type" value="yearly" checked class="mr-2">
            <span>ğŸ“† RoÄnÃ­ (365 dnÃ­)</span>
          </label>

          <label class="flex items-center">
            <input type="radio" name="subscription_type" value="lifetime" class="mr-2">
            <span>â™¾ï¸ DoÅ¾ivotnÃ­ (bez omezenÃ­)</span>
          </label>
        </div>
      </div>

      <div class="flex gap-4">
        <button type="submit" class="btn btn-primary">âœ… PÅ™iÅ™adit modul</button>
        <a href="{% url 'admin_modules' %}" class="btn btn-outline">â† ZpÄ›t</a>
      </div>

    </form>
  </div>

  <!-- Info Box -->
  <div class="content-card mt-6">
    <h3 class="text-lg font-semibold mb-4">â„¹ï¸ DÅ¯leÅ¾itÃ© informace</h3>
    <ul class="list-disc pl-6 space-y-2 text-sm">
      <li>PÅ™iÅ™azenÃ­ modulu uÅ¾ivateli nevyÅ¾aduje platbu</li>
      <li>PÅ™edplatnÃ© bude oznaÄeno jako "admin_assigned"</li>
      <li>U mÄ›sÃ­ÄnÃ­ho pÅ™edplatnÃ©ho platnost vyprÅ¡Ã­ za 30 dnÃ­</li>
      <li>U roÄnÃ­ho pÅ™edplatnÃ©ho platnost vyprÅ¡Ã­ za 365 dnÃ­</li>
      <li>DoÅ¾ivotnÃ­ pÅ™edplatnÃ© nemÃ¡ datum vyprÅ¡enÃ­</li>
      <li>Pokud uÅ¾ivatel uÅ¾ mÃ¡ aktivnÃ­ pÅ™edplatnÃ© danÃ©ho modulu, nebude vytvoÅ™eno novÃ©</li>
    </ul>
  </div>

</div>
{% endblock %}
