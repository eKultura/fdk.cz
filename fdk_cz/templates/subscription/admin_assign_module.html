{% extends "base.html" %}
{% block title %}PÅ™iÅ™adit modul uÅ¾ivateli | FDK.cz{% endblock %}
{% block header_title %}â• PÅ™iÅ™adit modul uÅ¾ivateli{% endblock %}
{% block header_subtitle %}Administrace pÅ™edplatnÃ½ch{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">

  <div class="content-card">
    <form method="POST">
      {% csrf_token %}

      <div style="margin-bottom: 1.5rem;">
        <label style="display: block; font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem; color: #1e293b;">ğŸ‘¤ UÅ¾ivatel</label>
        <select name="user_id" class="form-control" required style="width: 100%; padding: 0.75rem; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 1rem;">
          <option value="">-- Vyberte uÅ¾ivatele --</option>
          {% for user in users %}
            <option value="{{ user.id }}">{{ user.username }} ({{ user.email }})</option>
          {% endfor %}
        </select>
      </div>

      <div style="margin-bottom: 1.5rem;">
        <label style="display: block; font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem; color: #1e293b;">ğŸ“¦ Modul</label>
        <select name="module_id" class="form-control" required style="width: 100%; padding: 0.75rem; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 1rem;">
          <option value="">-- Vyberte modul --</option>
          {% for module in modules %}
            <option value="{{ module.module_id }}">
              {{ module.display_name }}
              ({{ module.price_monthly }} KÄ/mÄ›sÃ­c, {{ module.price_yearly }} KÄ/rok)
            </option>
          {% endfor %}
        </select>
      </div>

      <div style="margin-bottom: 2rem;">
        <label style="display: block; font-size: 0.875rem; font-weight: 600; margin-bottom: 0.75rem; color: #1e293b;">ğŸ“… Typ pÅ™edplatnÃ©ho</label>

        <div style="display: grid; gap: 0.75rem;">
          <label style="display: flex; align-items: center; padding: 0.75rem; background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#f1f5f9'; this.style.borderColor='#cbd5e1'" onmouseout="this.style.background='#f8fafc'; this.style.borderColor='#e2e8f0'">
            <input type="radio" name="subscription_type" value="monthly" style="margin-right: 0.75rem; width: 18px; height: 18px;">
            <span style="font-weight: 500; color: #1e293b;">ğŸ“… MÄ›sÃ­ÄnÃ­ (30 dnÃ­)</span>
          </label>

          <label style="display: flex; align-items: center; padding: 0.75rem; background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#f1f5f9'; this.style.borderColor='#cbd5e1'" onmouseout="this.style.background='#f8fafc'; this.style.borderColor='#e2e8f0'">
            <input type="radio" name="subscription_type" value="yearly" checked style="margin-right: 0.75rem; width: 18px; height: 18px;">
            <span style="font-weight: 500; color: #1e293b;">ğŸ“† RoÄnÃ­ (365 dnÃ­)</span>
          </label>

          <label style="display: flex; align-items: center; padding: 0.75rem; background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#f1f5f9'; this.style.borderColor='#cbd5e1'" onmouseout="this.style.background='#f8fafc'; this.style.borderColor='#e2e8f0'">
            <input type="radio" name="subscription_type" value="lifetime" style="margin-right: 0.75rem; width: 18px; height: 18px;">
            <span style="font-weight: 500; color: #1e293b;">â™¾ï¸ DoÅ¾ivotnÃ­ (bez omezenÃ­)</span>
          </label>
        </div>
      </div>

      <div style="display: flex; gap: 1rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0;">
        <button type="submit" class="btn btn-primary">âœ… PÅ™iÅ™adit modul</button>
        <a href="{% url 'admin_modules' %}" class="btn btn-outline">â† ZpÄ›t</a>
      </div>

    </form>
  </div>

  <!-- Info Box -->
  <div class="content-card" style="margin-top: 1.5rem;">
    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem; color: #1e293b;">â„¹ï¸ DÅ¯leÅ¾itÃ© informace</h3>
    <ul style="list-style: disc; padding-left: 1.5rem; display: grid; gap: 0.75rem; color: #475569; font-size: 0.875rem; line-height: 1.6;">
      <li>PÅ™iÅ™azenÃ­ modulu uÅ¾ivateli nevyÅ¾aduje platbu</li>
      <li>PÅ™edplatnÃ© bude oznaÄeno jako "admin_assigned"</li>
      <li>U mÄ›sÃ­ÄnÃ­ho pÅ™edplatnÃ©ho platnost vyprÅ¡Ã­ za 30 dnÃ­</li>
      <li>U roÄnÃ­ho pÅ™edplatnÃ©ho platnost vyprÅ¡Ã­ za 365 dnÃ­</li>
      <li>DoÅ¾ivotnÃ­ pÅ™edplatnÃ© nemÃ¡ datum vyprÅ¡enÃ­</li>
      <li>Pokud uÅ¾ivatel uÅ¾ mÃ¡ aktivnÃ­ pÅ™edplatnÃ© danÃ©ho modulu, nebude vytvoÅ™eno novÃ©</li>
    </ul>
  </div>

</div>
{% endblock %}
