{% extends "base.html" %}
{% block title %}Upravit modul - {{ module.display_name }} | FDK.cz{% endblock %}
{% block header_title %}âœï¸ Upravit modul{% endblock %}
{% block header_subtitle %}{{ module.display_name }}{% endblock %}

{% block content %}

<div style="margin-bottom: 1.5rem; background: linear-gradient(to right, #eff6ff, #eef2ff); border: 2px solid #bfdbfe; border-radius: 8px; padding: 1rem;">
  <div style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; flex-wrap: wrap;">
    <span style="color: #64748b;">Kontext:</span>
    <span style="font-weight: 500; color: #1e293b;">Osobni</span>
    <span style="color: #9ca3af;">-></span>
    <span style="font-weight: 500; color: #1e293b;">Administrace</span>
    <span style="color: #9ca3af;">-></span>
    <span style="font-weight: 500; color: #1e293b;">Moduly</span>
    <span style="color: #9ca3af;">-></span>
    <span style="font-weight: 600; color: #1e293b;">Upravit modul</span>
  </div>
</div>

<div class="max-w-4xl mx-auto">

  <div class="content-card">
    <form method="POST">
      {% csrf_token %}

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-2">ZobrazovanÃ½ nÃ¡zev</label>
        <input type="text" name="display_name" value="{{ module.display_name }}" class="form-control" required>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-2">Popis</label>
        <textarea name="description" rows="3" class="form-control">{{ module.description }}</textarea>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div>
          <label class="block text-sm font-semibold mb-2">Cena mÄ›sÃ­ÄnÄ› (KÄ)</label>
          <input type="number" name="price_monthly" value="{{ module.price_monthly }}" step="0.01" class="form-control" required>
        </div>

        <div>
          <label class="block text-sm font-semibold mb-2">Cena roÄnÄ› (KÄ)</label>
          <input type="number" name="price_yearly" value="{{ module.price_yearly }}" step="0.01" class="form-control" required>
        </div>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-2">PoÅ™adÃ­</label>
        <input type="number" name="order" value="{{ module.order }}" class="form-control" required>
        <p class="text-xs text-gray-500 mt-1">ÄŒÃ­slo urÄuje poÅ™adÃ­ zobrazenÃ­ (niÅ¾Å¡Ã­ = dÅ™Ã­ve)</p>
      </div>

      <div class="mb-4">
        <label class="flex items-center">
          <input type="checkbox" name="is_active" {% if module.is_active %}checked{% endif %} class="mr-2">
          <span class="font-semibold">AktivnÃ­ modul</span>
        </label>
        <p class="text-xs text-gray-500 mt-1">NeaktivnÃ­ moduly nejsou viditelnÃ© na cenÃ­ku</p>
      </div>

      <div class="mb-6">
        <label class="flex items-center">
          <input type="checkbox" name="is_free" {% if module.is_free %}checked{% endif %} class="mr-2">
          <span class="font-semibold">Zdarma pro vÅ¡echny</span>
        </label>
        <p class="text-xs text-gray-500 mt-1">Modul bude dostupnÃ½ vÅ¡em bez pÅ™edplatnÃ©ho</p>
      </div>

      <div class="flex gap-4">
        <button type="submit" class="btn btn-primary">ğŸ’¾ UloÅ¾it zmÄ›ny</button>
        <a href="{% url 'admin_modules' %}" class="btn btn-outline">â† ZpÄ›t</a>
      </div>

    </form>
  </div>

  <!-- Module Info -->
  <div class="content-card mt-6">
    <h3 class="text-lg font-semibold mb-4">â„¹ï¸ Informace o modulu</h3>
    <div class="text-sm space-y-2">
      <p><strong>SystÃ©movÃ½ nÃ¡zev:</strong> <code class="bg-gray-100 px-2 py-1 rounded">{{ module.name }}</code></p>
      <p><strong>URL patterny:</strong> <code class="bg-gray-100 px-2 py-1 rounded">{{ module.url_patterns }}</code></p>
      <p><strong>VytvoÅ™eno:</strong> {{ module.created_at|date:"d.m.Y H:i" }}</p>
      <p><strong>Naposledy upraveno:</strong> {{ module.updated_at|date:"d.m.Y H:i" }}</p>
    </div>
  </div>

</div>
{% endblock %}
