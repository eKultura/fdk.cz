{% extends 'base.html' %}

{% block title %}Zakoupit {{ module.display_name }} - FDK.cz{% endblock %}

{% block header_title %}Zakoupit modul{% endblock %}
{% block header_subtitle %}{{ module.display_name }}{% endblock %}

{% block content %}

<div style="margin-bottom: 1.5rem; background: linear-gradient(to right, #eff6ff, #eef2ff); border: 2px solid #bfdbfe; border-radius: 8px; padding: 1rem;">
  <div style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; flex-wrap: wrap;">
    <span style="color: #64748b;">Kontext:</span>
    <span style="font-weight: 500; color: #1e293b;">Osobni</span>
    <span style="color: #9ca3af;">-></span>
    <span style="font-weight: 500; color: #1e293b;">Predplatne</span>
    <span style="color: #9ca3af;">-></span>
    <span style="font-weight: 600; color: #1e293b;">Zakoupit modul</span>
  </div>
</div>

<div style="max-width: 600px; margin: 0 auto;">
    <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 2rem; background: white;">
        <div style="text-align: center; margin-bottom: 2rem;">
            <span style="font-size: 4rem;">{{ module.icon }}</span>
            <h2 style="margin: 1rem 0;">{{ module.display_name }}</h2>
            <p style="color: #64748b;">{{ module.description }}</p>
        </div>

        <form method="post">
            {% csrf_token %}

            <div style="background: #f9fafb; padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
                <h3 style="margin: 0 0 1rem 0;">Vyberte typ p≈ôedplatn√©ho</h3>

                <label style="display: block; padding: 1rem; border: 2px solid #e5e7eb; border-radius: 4px; margin-bottom: 1rem; cursor: pointer;">
                    <input type="radio" name="subscription_type" value="monthly" required>
                    <strong style="margin-left: 0.5rem;">Mƒõs√≠ƒçn√≠ p≈ôedplatn√©</strong>
                    <span style="float: right; font-size: 1.2rem; color: #3b82f6;">{{ module.price_monthly }} Kƒç/mƒõs√≠c</span>
                </label>

                <label style="display: block; padding: 1rem; border: 2px solid #10b981; border-radius: 4px; cursor: pointer; background: #f0fdf4;">
                    <input type="radio" name="subscription_type" value="yearly" required checked>
                    <strong style="margin-left: 0.5rem;">Roƒçn√≠ p≈ôedplatn√©</strong>
                    <span style="float: right; font-size: 1.2rem; color: #10b981;">{{ module.price_yearly }} Kƒç/rok</span>
                    <small style="display: block; margin-left: 1.7rem; color: #10b981; margin-top: 0.25rem;">
                        U≈°et≈ô√≠te {{ module.price_monthly|floatformat:0|add:"0"|add:"12"|add:"-"|add:module.price_yearly|floatformat:0 }} Kƒç
                    </small>
                </label>
            </div>

            <div style="display: flex; gap: 1rem;">
                <a href="{% url 'subscription_pricing' %}"
                   style="flex: 1; text-align: center; padding: 0.75rem; background: #e5e7eb; color: #1e293b; text-decoration: none; border-radius: 4px;">
                    Zpƒõt
                </a>
                <button type="submit"
                        style="flex: 2; padding: 0.75rem; background: #10b981; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1rem;">
                    ‚úì Aktivovat p≈ôedplatn√©
                </button>
            </div>
        </form>

        <p style="margin-top: 1.5rem; font-size: 0.875rem; color: #64748b; text-align: center;">
            üí° <strong>Demo re≈æim:</strong> P≈ôedplatn√© bude aktivov√°no okam≈æitƒõ bez platby pro testov√°n√≠.
        </p>
    </div>
</div>

{% endblock %}
