{% extends 'user/base.html' %}
{% load i18n %}

{% block title %}Přihlášení{% endblock %}

{% block content %}

<div class="container mt-5" style="max-width: 400px;">
    <h2 class="mb-4 text-center" style="font-weight: bold; color: #333;">Přihlášení</h2>

    {% if user.is_authenticated %}
        <p class="alert alert-success text-center">Přihlášen jako {{ user.username }}</p>
        <p class="alert alert-success text-center"><a href="/odhlaseni/">Odhlásit</a>
    {% else %}

    <!-- Chybová zpráva -->
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-danger text-center" style="margin-bottom: 1rem; padding: 0.75rem; border-radius: 6px; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

        <form method="POST" class="p-4 border rounded shadow-sm" style="background-color: #f0f4f8; border: 1px solid #d1d5db; border-radius: 8px;">
            {% csrf_token %}

            <!-- Uživatelské jméno -->
            <div class="mb-4">
                <label for="id_username" class="form-label" style="font-weight: 600; color: #555;">Uživatelské jméno</label>
                <input type="text" name="username" id="id_username" class="form-control" placeholder="Zadejte uživatelské jméno" required 
                       style="padding: 10px; border-radius: 6px; border: 1px solid #cbd5e0; background-color: #fff; box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1); width: 100%;">
            </div>

            <!-- Heslo -->
            <div class="mb-4">
                <label for="id_password" class="form-label" style="font-weight: 600; color: #555;">Heslo</label>
                <div class="input-group" style="display: flex;">
                    <input type="password" name="password" id="id_password" class="form-control" placeholder="Zadejte heslo" required 
                           style="padding: 10px; border-radius: 6px 0 0 6px; border: 1px solid #cbd5e0; background-color: #fff; box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1); width: 85%;">
                    <button type="button" class="btn btn-outline-secondary" onclick="togglePassword('id_password')" 
                            style="border-radius: 0 6px 6px 0; border: 1px solid #cbd5e0; border-left: none; background-color: #e2e8f0; width: 15%; display: flex; align-items: center; justify-content: center;">
                        <i class="material-icons" id="password-icon" style="font-size: 1.5rem;">visibility</i>
                    </button>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100 mt-3" style="padding: 10px; font-weight: bold; background-color: #4a90e2; border: none; border-radius: 6px;">Přihlásit se</button>
        </form>
        <p class="mt-4 text-center" style="color: #555;">Nemáte účet? <a href="{% url 'registration_cs' %}" style="color: #4a90e2; font-weight: bold; text-decoration: none;">Registrujte se zde</a></p>
    {% endif %}
</div>

<!-- Skript pro přepínání zobrazení hesla s Material Icons -->
<script>
    function togglePassword(fieldId) {
        var passwordField = document.getElementById(fieldId);
        var icon = document.getElementById("password-icon");
        if (passwordField.type === "password") {
            passwordField.type = "text";
            icon.textContent = "visibility_off"; // Změna na ikonu skrytí
        } else {
            passwordField.type = "password";
            icon.textContent = "visibility"; // Změna na ikonu zobrazení
        }
    }
</script>





{% endblock %}
