{% extends "base.html" %}
{% block title %}{{ law.title }} - {{ law.number }} | FDK.cz{% endblock %}
{% block header_title %}=Ú {{ law.title }}{% endblock %}
{% block header_subtitle %}{{ law.number }} " Úinnost od: {{ law.effective_date }}{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto">
  <!-- Actions -->
  <div class="mb-6 flex justify-between items-center">
    <div class="flex gap-3">
      <span class="px-3 py-2 bg-blue-100 text-blue-700 rounded-lg font-medium text-sm">
        {{ law.category }}
      </span>
      <span class="px-3 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium text-sm">
        Rok vydání: {{ law.year }}
      </span>
    </div>
    <div class="flex gap-3">
      <a href="{% url 'law_list' %}" class="btn btn-outline"> Zpt na seznam</a>
      <button class="btn btn-secondary" onclick="window.print()">=¨ Tisk</button>
    </div>
  </div>

  <!-- Summary -->
  <div class="content-card mb-6">
    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
      <span class="text-2xl mr-2">=Ë</span>
      Shrnutí
    </h3>
    <div class="bg-gray-50 border-l-4 border-blue-500 rounded-lg p-4">
      <p class="text-gray-800 leading-relaxed">{{ law.summary }}</p>
    </div>
  </div>

  <!-- Key Sections -->
  <div class="content-card mb-6">
    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
      <span class="text-2xl mr-2">=Ö</span>
      Klíová ustanovení
    </h3>

    {% if law.key_sections %}
      <div class="space-y-4">
        {% for section in law.key_sections %}
          <div class="bg-white border-2 border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
            <div class="flex items-start">
              <div class="bg-blue-600 text-white font-bold px-3 py-1 rounded mr-3 text-sm">
                {{ section.section }}
              </div>
              <div class="flex-1">
                <h4 class="font-semibold text-gray-800 mb-2">{{ section.title }}</h4>
                <p class="text-gray-700 leading-relaxed text-sm">{{ section.content }}</p>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="text-center py-8 bg-gray-50 rounded-lg">
        <p class="text-gray-500">}ádná klíová ustanovení nejsou aktuáln k dispozici.</p>
      </div>
    {% endif %}
  </div>

  <!-- AI Assistant Call-to-Action -->
  <div class="content-card bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200">
    <div class="flex items-center justify-between">
      <div>
        <h3 class="text-lg font-semibold text-gray-800 mb-2 flex items-center">
          <span class="text-2xl mr-2">></span>
          Máte otázku k tomuto zákonu?
        </h3>
        <p class="text-gray-700">AI asistent vám pomo~e s vıkladem a aplikací právních pYedpiso na váa konkrétní pYípad.</p>
      </div>
      <div class="ml-4">
        <a href="{% url 'create_query' %}" class="btn btn-primary whitespace-nowrap">
          =¬ Zeptat se AI
        </a>
      </div>
    </div>
  </div>

  <!-- Metadata -->
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
    <div class="bg-white border border-gray-200 rounded-lg p-4">
      <div class="text-xs text-gray-500 uppercase tracking-wide mb-1">íslo zákona</div>
      <div class="font-bold text-gray-800">{{ law.number }}</div>
    </div>
    <div class="bg-white border border-gray-200 rounded-lg p-4">
      <div class="text-xs text-gray-500 uppercase tracking-wide mb-1">Rok vydání</div>
      <div class="font-bold text-gray-800">{{ law.year }}</div>
    </div>
    <div class="bg-white border border-gray-200 rounded-lg p-4">
      <div class="text-xs text-gray-500 uppercase tracking-wide mb-1">Úinnost</div>
      <div class="font-bold text-gray-800">{{ law.effective_date }}</div>
    </div>
    <div class="bg-white border border-gray-200 rounded-lg p-4">
      <div class="text-xs text-gray-500 uppercase tracking-wide mb-1">Kategorie</div>
      <div class="font-bold text-gray-800">{{ law.category }}</div>
    </div>
  </div>

  <!-- External Links -->
  <div class="content-card mt-6">
    <h3 class="text-lg font-semibold text-gray-800 mb-3">= Externí odkazy</h3>
    <div class="space-y-2">
      <a href="https://www.zakonyprolidi.cz/" target="_blank" class="block text-blue-600 hover:underline">
        ’ Zobrazit na Zákony pro lidi
      </a>
      <a href="https://www.sbirka.cz/" target="_blank" class="block text-blue-600 hover:underline">
        ’ Zobrazit ve Sbírce zákono
      </a>
    </div>
  </div>
</div>
{% endblock %}
