{% extends "base.html" %}
{% block title %}{{ law.title }} - {{ law.number }} | FDK.cz{% endblock %}
{% block header_title %}ğŸ“š {{ law.title }}{% endblock %}
{% block header_subtitle %}{{ law.number }} Â· ÃšÄinnost od: {{ law.effective_date }}{% endblock %}

{% block context_breadcrumbs %}
{% include 'inc/org_context_breadcrumb.html' %}
<span class="breadcrumb-sep">â†’</span>
<a href="{% url 'pravo_ai' %}" class="breadcrumb-link">AI PrÃ¡vnÃ­k</a>
<span class="breadcrumb-sep">â†’</span>
<a href="{% url 'law_list' %}" class="breadcrumb-link">ZÃ¡kony</a>
<span class="breadcrumb-sep">â†’</span>
<span style="font-weight: 600; color: #1e293b;">Detail zÃ¡kona</span>
{% endblock %}

{% block content %}

<div style="max-width: 1200px; margin: 0 auto;">
  <!-- Actions -->
  <div style="margin-bottom: 1.5rem; display: flex; justify-content: space-between; align-items: center;">
    <div style="display: flex; gap: 0.75rem;">
      <span style="padding: 8px 12px; background: #eff6ff; color: #1e40af; border-radius: 8px; font-weight: 500; font-size: 0.875rem;">
        {{ law.category }}
      </span>
      <span style="padding: 8px 12px; background: #f8fafc; color: #475569; border-radius: 8px; font-weight: 500; font-size: 0.875rem;">
        Rok vydÃ¡nÃ­: {{ law.year }}
      </span>
    </div>
    <div style="display: flex; gap: 0.75rem;">
      <a href="{% url 'law_list' %}" class="btn btn-outline">â† ZpÄ›t na seznam</a>
      <button class="btn btn-outline" onclick="window.print()">ğŸ–¨ï¸ Tisk</button>
    </div>
  </div>

  <!-- Summary -->
  <div class="content-card" style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.25rem; font-weight: 600; color: #1e293b; margin-bottom: 1rem; display: flex; align-items: center;">
      <span style="margin-right: 0.5rem;">ğŸ“</span>
      ShrnutÃ­
    </h3>
    <div style="background: #f8fafc; border-left: 4px solid #3b82f6; border-radius: 8px; padding: 1rem;">
      <p style="color: #1e293b; line-height: 1.6;">{{ law.summary }}</p>
    </div>
  </div>

  <!-- Key Sections -->
  <div class="content-card" style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.25rem; font-weight: 600; color: #1e293b; margin-bottom: 1rem; display: flex; align-items: center;">
      <span style="margin-right: 0.5rem;">ğŸ“‹</span>
      KlÃ­ÄovÃ¡ ustanovenÃ­
    </h3>

    {% if law.key_sections %}
      <div style="display: grid; gap: 1rem;">
        {% for section in law.key_sections %}
          <div style="background: white; border: 2px solid #e2e8f0; border-radius: 8px; padding: 1rem; transition: box-shadow 0.2s;">
            <div style="display: flex; align-items: flex-start;">
              <div style="background: #3b82f6; color: white; font-weight: 600; padding: 6px 12px; border-radius: 6px; margin-right: 0.75rem; font-size: 0.875rem;">
                {{ section.section }}
              </div>
              <div style="flex: 1;">
                <h4 style="font-weight: 600; color: #1e293b; margin-bottom: 0.5rem;">{{ section.title }}</h4>
                <p style="color: #475569; line-height: 1.6; font-size: 0.875rem;">{{ section.content }}</p>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div style="text-align: center; padding: 2rem; background: #f8fafc; border-radius: 8px;">
        <p style="color: #64748b;">Å½Ã¡dnÃ¡ klÃ­ÄovÃ¡ ustanovenÃ­ nejsou aktuÃ¡lnÄ› k dispozici.</p>
      </div>
    {% endif %}
  </div>

  <!-- AI Assistant Call-to-Action -->
  <div class="content-card" style="background: linear-gradient(135deg, #eff6ff, #dbeafe); border: 2px solid #bfdbfe; margin-bottom: 1.5rem;">
    <div style="display: flex; align-items: center; justify-content: space-between;">
      <div>
        <h3 style="font-size: 1.125rem; font-weight: 600; color: #1e293b; margin-bottom: 0.5rem; display: flex; align-items: center;">
          <span style="margin-right: 0.5rem;">ğŸ¤–</span>
          MÃ¡te otÃ¡zku k tomuto zÃ¡konu?
        </h3>
        <p style="color: #475569;">AI asistent vÃ¡m pomÅ¯Å¾e s vÃ½kladem a aplikacÃ­ prÃ¡vnÃ­ch pÅ™edpisÅ¯ na vÃ¡Å¡ konkrÃ©tnÃ­ pÅ™Ã­pad.</p>
      </div>
      <div style="margin-left: 1rem;">
        <a href="{% url 'law_query' %}" class="btn btn-primary" style="white-space: nowrap;">
          ğŸ¤– Zeptat se AI
        </a>
      </div>
    </div>
  </div>

  <!-- Metadata -->
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
    <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 1rem;">
      <div style="font-size: 0.75rem; color: #64748b; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.25rem;">ÄŒÃ­slo zÃ¡kona</div>
      <div style="font-weight: 600; color: #1e293b;">{{ law.number }}</div>
    </div>
    <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 1rem;">
      <div style="font-size: 0.75rem; color: #64748b; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.25rem;">Rok vydÃ¡nÃ­</div>
      <div style="font-weight: 600; color: #1e293b;">{{ law.year }}</div>
    </div>
    <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 1rem;">
      <div style="font-size: 0.75rem; color: #64748b; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.25rem;">ÃšÄinnost</div>
      <div style="font-weight: 600; color: #1e293b;">{{ law.effective_date }}</div>
    </div>
    <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; padding: 1rem;">
      <div style="font-size: 0.75rem; color: #64748b; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.25rem;">Kategorie</div>
      <div style="font-weight: 600; color: #1e293b;">{{ law.category }}</div>
    </div>
  </div>

  <!-- External Links -->
  <div class="content-card">
    <h3 style="font-size: 1.125rem; font-weight: 600; color: #1e293b; margin-bottom: 0.75rem;">ğŸ”— ExternÃ­ odkazy</h3>
    <div style="display: grid; gap: 0.5rem;">
      <a href="https://www.zakonyprolidi.cz/" target="_blank" style="color: #3b82f6; text-decoration: none; display: block; padding: 0.5rem; border-radius: 6px; transition: background 0.2s;" onmouseover="this.style.background='#f8fafc'" onmouseout="this.style.background='transparent'">
        â†’ Zobrazit na ZÃ¡kony pro lidi
      </a>
      <a href="https://www.sbirka.cz/" target="_blank" style="color: #3b82f6; text-decoration: none; display: block; padding: 0.5rem; border-radius: 6px; transition: background 0.2s;" onmouseover="this.style.background='#f8fafc'" onmouseout="this.style.background='transparent'">
        â†’ Zobrazit ve SbÃ­rce zÃ¡konÅ¯
      </a>
    </div>
  </div>
</div>
{% endblock %}
