{% extends "base.html" %}
{% block title %}IT Aktiva | FDK.cz{% endblock %}
{% block header_title %}ğŸ’» IT Aktiva{% endblock %}
{% block header_subtitle %}PÅ™ehled IT majetku a zaÅ™Ã­zenÃ­{% endblock %}

{% block content %}
<!-- Breadcrumbs -->
<div style="margin-bottom: 1.5rem; background: linear-gradient(to right, #eff6ff, #eef2ff); border: 2px solid #bfdbfe; border-radius: 8px; padding: 1rem;">
  <div style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; flex-wrap: wrap;">
    <span style="color: #64748b;">ğŸ“ Kontext:</span>
    <span style="font-weight: 500; color: #1e293b;">Organizace</span>
    <span style="color: #9ca3af;">â†’</span>
    <a href="{% url 'it_dashboard' %}" style="color: #3b82f6; text-decoration: none; font-weight: 500;">IT</a>
    <span style="color: #9ca3af;">â†’</span>
    <span style="font-weight: 600; color: #1e293b;">Aktiva</span>
  </div>
</div>

<div style="max-width: 1400px; margin: 0 auto;">
  <!-- Actions -->
  <div class="mb-10 flex gap-3">
    <a href="{% url 'create_it_asset' %}" class="btn btn-primary">+ NovÃ© aktivum</a>
    <a href="{% url 'create_it_incident' %}" class="btn btn-secondary">+ NovÃ½ incident</a>
    <a href="{% url 'it_dashboard' %}" class="btn btn-outline">Dashboard</a>
    <a href="{% url 'list_it_incidents' %}" class="btn btn-outline">VÅ¡echny incidenty</a>
  </div>

  <div class="content-card">
    {% if assets %}
      <!-- POVINNÃ overflow wrapper podle metodiky sekce 3.5 -->
      <div class="overflow-x-auto">
        <table class="data-table">
          <thead>
            <tr>
              <th>NÃ¡zev</th>
              <th class="hidden md:table-cell">Typ</th>
              <th class="hidden lg:table-cell">SÃ©riovÃ© ÄÃ­slo</th>
              <th>Status</th>
              <th class="text-right">Akce</th>
            </tr>
          </thead>
          <tbody>
            {% for asset in assets %}
            <tr>
              <td>
                <strong>{{ asset.name }}</strong>
                <div class="text-xs text-gray-500 mt-1 md:hidden">
                  {{ asset.get_asset_type_display|default:"â€”" }}
                </div>
              </td>
              <td class="hidden md:table-cell">{{ asset.get_asset_type_display|default:"â€”" }}</td>
              <td class="hidden lg:table-cell" style="font-family: monospace;">{{ asset.serial_number|default:"â€”" }}</td>
              <td>
                <span class="px-2 py-1 rounded text-xs font-medium
                  {% if asset.status == 'active' %}bg-green-100 text-green-700
                  {% elif asset.status == 'in_repair' %}bg-orange-100 text-orange-700
                  {% elif asset.status == 'stored' %}bg-gray-100 text-gray-700
                  {% else %}bg-red-100 text-red-700{% endif %}">
                  {{ asset.get_status_display }}
                </span>
              </td>
              <td class="text-right">
                <div class="data-table-actions">
                  <a href="{% url 'detail_it_asset' asset.asset_id %}">ğŸ‘ï¸ Detail</a>
                </div>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <div style="text-align: center; padding: 3rem;">
        <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ’»</div>
        <p style="color: #64748b;">ZatÃ­m nejsou Å¾Ã¡dnÃ¡ IT aktiva k zobrazenÃ­.</p>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
