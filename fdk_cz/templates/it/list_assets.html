{% extends "base.html" %}
{% block title %}IT Aktiva | FDK.cz{% endblock %}
{% block header_title %}ğŸ’» IT Aktiva{% endblock %}
{% block header_subtitle %}PÅ™ehled IT majetku a zaÅ™Ã­zenÃ­{% endblock %}

{% block content %}
<div style="max-width: 1400px; margin: 0 auto;">
  <!-- Actions -->
  <div class="mb-10 flex gap-3">
    <a href="{% url 'create_it_asset' %}" class="btn btn-primary">+ NovÃ© aktivum</a>
    <a href="{% url 'create_it_incident' %}" class="btn btn-secondary">+ NovÃ½ incident</a>
    <a href="{% url 'it_dashboard' %}" class="btn btn-outline">Dashboard</a>
    <a href="{% url 'list_it_incidents' %}" class="btn btn-outline">VÅ¡echny incidenty</a>
  </div>

  <div class="content-card">
    {% if assets %}
      <div class="bg-white rounded-lg shadow-md overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">NÃ¡zev</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Typ</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">SÃ©riovÃ© ÄÃ­slo</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
              <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Akce</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            {% for asset in assets %}
            <tr class="hover:bg-gray-50">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ asset.name }}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ asset.get_asset_type_display|default:"â€”" }}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-mono">{{ asset.serial_number|default:"â€”" }}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm">
                <span class="px-3 py-1 rounded-full text-sm font-medium
                  {% if asset.status == 'active' %}bg-green-100 text-green-700
                  {% elif asset.status == 'in_repair' %}bg-orange-100 text-orange-700
                  {% elif asset.status == 'stored' %}bg-gray-100 text-gray-700
                  {% else %}bg-red-100 text-red-700{% endif %}">
                  {{ asset.get_status_display }}
                </span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-center text-sm font-medium">
                <a href="{% url 'detail_it_asset' asset.asset_id %}" class="text-blue-600 hover:text-blue-900">Detail</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <div style="text-align: center; padding: 3rem;">
        <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ’»</div>
        <p style="color: #64748b;">ZatÃ­m nejsou Å¾Ã¡dnÃ¡ IT aktiva k zobrazenÃ­.</p>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
