{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ document.title }} | Dokument | FDK.cz{% endblock %}
{% block header_title %}ğŸ“„ {{ document.title }}{% endblock %}
{% block header_subtitle %}
Dokument v projektu <strong>{{ document.project.name }}</strong>
{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">

  <!-- Actions -->
  <div style="margin-bottom: 1.5rem; display: flex; gap: 0.75rem;">
    <a href="{% url 'detail_project' document.project.project_id %}" class="btn btn-outline">â† ZpÄ›t na projekt</a>
    <a href="{% url 'edit_document' document.pk %}" class="btn btn-primary">âœï¸ Upravit</a>
    <a href="{% url 'delete_document' document.pk %}" class="btn btn-outline"
       onclick="return confirm('Opravdu chcete smazat tento dokument?');" style="color: #dc2626;">ğŸ—‘ï¸ Smazat</a>
  </div>

  <!-- ZÃ¡kladnÃ­ informace -->
  <div class="content-card">
    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem; color: #1e293b;">ğŸ“‹ ZÃ¡kladnÃ­ informace</h3>

    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
      <div>
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.25rem;">NÃ¡zev dokumentu</div>
        <div style="font-weight: 600; color: #1e293b;">{{ document.title }}</div>
      </div>

      <div>
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.25rem;">Typ dokumentu</div>
        <div>
          <span style="padding: 4px 12px; border-radius: 12px; font-size: 0.875rem; font-weight: 500; background: #dbeafe; color: #1e40af;">
            {{ document.document_type|default:"â€”" }}
          </span>
        </div>
      </div>

      <div>
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.25rem;">Kategorie</div>
        <div style="font-weight: 600; color: #1e293b;">{{ document.category.name|default:"â€”" }}</div>
      </div>

      <div>
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.25rem;">Projekt</div>
        <div style="font-weight: 600; color: #1e293b;">
          <a href="{% url 'detail_project' document.project.project_id %}" style="color: #3b82f6; text-decoration: none;">
            ğŸ“ {{ document.project.name }}
          </a>
        </div>
      </div>

      {% if document.url %}
      <div>
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.25rem;">URL</div>
        <div style="font-weight: 600; color: #1e293b;">
          <a href="{{ document.url }}" target="_blank" style="color: #3b82f6; text-decoration: none;">
            ğŸ”— {{ document.url }}
          </a>
        </div>
      </div>
      {% endif %}

      {% if document.file_path %}
      <div>
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.25rem;">Soubor</div>
        <div style="font-weight: 600; color: #1e293b; font-family: monospace; font-size: 0.875rem;">
          ğŸ“ {{ document.file_path }}
        </div>
      </div>
      {% endif %}
    </div>

    {% if document.description %}
    <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0;">
      <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.5rem;">Popis dokumentu</div>
      <div style="color: #1e293b; line-height: 1.6;">{{ document.description|linebreaks }}</div>
    </div>
    {% endif %}
  </div>

  <!-- Metadata -->
  <div class="content-card" style="margin-top: 1.5rem; background: #f8fafc;">
    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem; color: #1e293b;">â±ï¸ Metadata a informace</h3>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; font-size: 0.875rem;">
      <div>
        <div style="color: #64748b;">NahrÃ¡no</div>
        <div style="color: #1e293b;">{{ document.uploaded_at|date:"d.m.Y H:i" }}</div>
        {% if document.uploaded_by %}
        <div style="color: #64748b; font-size: 0.75rem;">{{ document.uploaded_by.get_full_name|default:document.uploaded_by.username }}</div>
        {% endif %}
      </div>
      <div>
        <div style="color: #64748b;">ID dokumentu</div>
        <div style="font-family: monospace; color: #1e293b;">{{ document.document_id }}</div>
      </div>
      <div>
        <div style="color: #64748b;">PÅ™Ã­stupnost</div>
        <div style="color: #1e293b;">
          <span style="padding: 2px 8px; border-radius: 8px; font-size: 0.75rem; font-weight: 500; background: #d1fae5; color: #065f46;">
            ProjektovÃ¡ ÃºroveÅˆ
          </span>
        </div>
      </div>
    </div>
  </div>

</div>
{% endblock %}
