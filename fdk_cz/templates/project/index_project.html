{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Projekty | FDK.cz" %}{% endblock %}
{% block header_title %}{% trans "Projekty" %}{% endblock %}
{% block header_subtitle %}{% trans "Spravujte svÃ© projekty pÅ™ehlednÄ› a efektivnÄ›" %}{% endblock %}

{% block content %}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

  <!-- Seznam projektÅ¯ -->
  <div class="lg:col-span-2">
    <div class="content-card">
      <div class="card-header" style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;">
        <h3 class="card-title" style="font-weight:600;font-size:1.1rem;">{% trans "Seznam projektÅ¯" %}</h3>
        <a href="{% url 'new_project_cs' %}" class="btn btn-primary text-sm">&#10133; {% trans "PÅ™idat projekt" %}</a>
      </div>

      {% if user_projects %}
      <div style="overflow-x:auto;">
        <table class="data-table" style="width:100%;border-collapse:collapse;">
          <thead style="background:#f9fafb;">
            <tr>
              <th class="px-4 py-2 text-left text-gray-600 font-semibold w-1/6">ID</th>
              <th class="px-4 py-2 text-left text-gray-600 font-semibold">{% trans "NÃ¡zev projektu" %}</th>
              <th class="px-4 py-2 text-left text-gray-600 font-semibold hidden md:table-cell">{% trans "Popis" %}</th>
              <th class="px-4 py-2 text-left text-gray-600 font-semibold hidden md:table-cell">{% trans "Datum vytvoÅ™enÃ­" %}</th>
              <th class="px-4 py-2 text-right text-gray-600 font-semibold w-1/6">{% trans "Akce" %}</th>
            </tr>
          </thead>
          <tbody>
            {% for project in user_projects %}
            <tr style="border-bottom:1px solid #e5e7eb;" class="hover:bg-gray-50 transition">
              <td class="px-4 py-2 text-gray-700">{{ project.project_id }}</td>
              <td class="px-4 py-2 text-gray-800 font-medium">
                <a href="{% url 'detail_project' project.project_id %}" class="text-blue-600 hover:underline">
                  {{ project.name }}
                </a>
              </td>
              <td class="px-4 py-2 text-gray-500 hidden md:table-cell">{{ project.description|default:"â€“" }}</td>
              <td class="px-4 py-2 text-gray-500 hidden md:table-cell">{{ project.created|date:"d.m.Y" }}</td>
              <td class="px-4 py-2 text-right">
                <div class="data-table-actions">
                  <a href="{% url 'detail_project' project.project_id %}">ğŸ‘ï¸ {% trans "Detail" %}</a>
                  <a href="{% url 'edit_project' project.project_id %}">âœï¸ {% trans "Upravit" %}</a>
                </div>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="empty-state" style="text-align:center;padding:2rem;color:#6b7280;">
        <div style="font-size:2rem;">ğŸ—‚ï¸</div>
        <p style="margin-top:0.5rem;">{% trans "ZatÃ­m nemÃ¡te Å¾Ã¡dnÃ© projekty." %}</p>
        <a href="{% url 'new_project_cs' %}" class="btn btn-outline" style="margin-top:1rem;">â• {% trans "ZaloÅ¾it novÃ½ projekt" %}</a>
      </div>
      {% endif %}
    </div>
  </div>



</div>
{% endblock %}
