{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Projekty | FDK.cz" %}{% endblock %}
{% block header_title %}{% trans "Projekty" %}{% endblock %}
{% block header_subtitle %}{% trans "Spravujte sv√© projekty p≈ôehlednƒõ a efektivnƒõ" %}{% endblock %}

{% block content %}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

  <!-- Seznam projekt≈Ø -->
  <div class="lg:col-span-2">
    <div class="content-card">
      <div class="card-header" style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;">
        <h3 class="card-title" style="font-weight:600;font-size:1.1rem;">{% trans "Seznam projekt≈Ø" %}</h3>
        <a href="{% url 'new_project_cs' %}" class="btn btn-primary text-sm">&#10133; {% trans "P≈ôidat projekt" %}</a>
      </div>

      {% if user_projects %}
      <div style="overflow-x:auto;">
        <table class="data-table" style="width:100%;border-collapse:collapse;">
          <thead style="background:#f9fafb;">
            <tr>
              <th class="px-4 py-2 text-left text-gray-600 font-semibold w-1/6">ID</th>
              <th class="px-4 py-2 text-left text-gray-600 font-semibold">{% trans "N√°zev projektu" %}</th>
              <th class="px-4 py-2 text-left text-gray-600 font-semibold hidden md:table-cell">{% trans "Popis" %}</th>
              <th class="px-4 py-2 text-left text-gray-600 font-semibold hidden md:table-cell">{% trans "Datum vytvo≈ôen√≠" %}</th>
              <th class="px-4 py-2 text-center text-gray-600 font-semibold w-1/6">{% trans "Akce" %}</th>
            </tr>
          </thead>
          <tbody>
            {% for project in user_projects %}
            <tr style="border-bottom:1px solid #e5e7eb;" class="hover:bg-gray-50 transition">
              <td class="px-4 py-2 text-gray-700">{{ project.project_id }}</td>
              <td class="px-4 py-2 text-gray-800 font-medium">
                <a href="{% url 'detail_project' project.project_id %}" class="text-blue-600 hover:underline">
                  {{ project.name }}
                </a>
              </td>
              <td class="px-4 py-2 text-gray-500 hidden md:table-cell">{{ project.description|default:"‚Äì" }}</td>
              <td class="px-4 py-2 text-gray-500 hidden md:table-cell">{{ project.created|date:"d.m.Y" }}</td>
              <td class="px-4 py-2 text-center">
                <a href="{% url 'detail_project' project.project_id %}" class="text-blue-600 hover:text-blue-800 text-sm mr-2">{% trans "Detail" %}</a>
                <a href="{% url 'edit_project' project.project_id %}" class="text-yellow-600 hover:text-yellow-800 text-sm">{% trans "Upravit" %}</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="empty-state" style="text-align:center;padding:2rem;color:#6b7280;">
        <div style="font-size:2rem;">üóÇÔ∏è</div>
        <p style="margin-top:0.5rem;">{% trans "Zat√≠m nem√°te ≈æ√°dn√© projekty." %}</p>
        <a href="{% url 'new_project_cs' %}" class="btn btn-outline" style="margin-top:1rem;">‚ûï {% trans "Zalo≈æit nov√Ω projekt" %}</a>
      </div>
      {% endif %}
    </div>
  </div>



</div>
{% endblock %}
