{% extends "base.html" %}
{% load i18n %}

{% block title %}Upravit miln칤k | FDK.cz{% endblock %}
{% block header_title %}Upravit miln칤k{% endblock %}
{% block header_subtitle %}Upravte term칤n a podrobnosti miln칤ku v projektu <strong>{{ milestone.project.name }}</strong>{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
  <div class="content-card">
    <form method="POST" action="{% url 'edit_milestone' project_id milestone.milestone_id %}">
      {% csrf_token %}

      <!-- N치zev -->
      <div class="form-group">
        <label for="id_title" class="form-label">N치zev miln칤ku <span class="required">*</span></label>
        <input type="text" name="title" id="id_title" value="{{ form.title.value|default:milestone.title }}" class="form-control" required placeholder="Nap콏. MVP Launch, Beta verze, Fin치ln칤 release">
        {% if form.title.errors %}
          <p class="form-error">{{ form.title.errors|join:", " }}</p>
        {% endif %}
      </div>

      <!-- Popis -->
      <div class="form-group">
        <label for="id_description" class="form-label">Popis</label>
        <textarea name="description" id="id_description" rows="4" class="form-control" placeholder="Popi코te co m치 b칳t v r치mci tohoto miln칤ku dokon캜eno...">{{ form.description.value|default:milestone.description|default:'' }}</textarea>
        {% if form.description.errors %}
          <p class="form-error">{{ form.description.errors|join:", " }}</p>
        {% endif %}
        <div class="form-help">Detailn칤 popis toho, co miln칤k p콏edstavuje a jak칠 v칳sledky se o캜ek치vaj칤</div>
      </div>

      <!-- Term칤n dokon캜en칤 -->
      <div class="form-group">
        <label for="id_due_date" class="form-label">Term칤n dokon캜en칤</label>
        <input type="date" name="due_date" id="id_due_date" value="{% if form.due_date.value %}{{ form.due_date.value|date:'Y-m-d' }}{% elif milestone.due_date %}{{ milestone.due_date|date:'Y-m-d' }}{% endif %}" class="form-control">
        {% if form.due_date.errors %}
          <p class="form-error">{{ form.due_date.errors|join:", " }}</p>
        {% endif %}
        <div class="form-help">Pl치novan칳 term칤n spln캩n칤 miln칤ku</div>
      </div>

      <!-- Akce -->
      <div class="flex justify-end gap-3 pt-4 border-t border-gray-200">
        <a href="{% url 'detail_project' project_id %}" class="btn btn-outline">Zru코it</a>
        <button type="submit" class="btn btn-primary">游 Ulo쬴t zm캩ny</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
