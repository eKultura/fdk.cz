{% extends "base.html" %}
{% load i18n %}

{% block title %}Upravit miln√≠k | FDK.cz{% endblock %}
{% block header_title %}Upravit miln√≠k{% endblock %}
{% block header_subtitle %}Upravte term√≠n a podrobnosti miln√≠ku v projektu <strong>{{ milestone.project.name }}</strong>{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
  <div class="content-card">
    <form method="POST" action="{% url 'edit_milestone' project_id milestone.milestone_id %}">
      {% csrf_token %}

      <!-- N√°zev -->
      <div class="form-group mb-4">
        <label for="id_title" class="block text-sm font-medium text-gray-700">N√°zev miln√≠ku <span class="text-red-600">*</span></label>
        <input type="text" name="title" id="id_title" value="{{ form.title.value|default:'' }}" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" required>
        {% if form.title.errors %}
          <p class="text-red-600 text-sm mt-1">{{ form.title.errors|join:", " }}</p>
        {% endif %}
      </div>

      <!-- Popis -->
      <div class="form-group mb-4">
        <label for="id_description" class="block text-sm font-medium text-gray-700">Popis</label>
        <textarea name="description" id="id_description" rows="4" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500">{{ form.description.value|default:'' }}</textarea>
        {% if form.description.errors %}
          <p class="text-red-600 text-sm mt-1">{{ form.description.errors|join:", " }}</p>
        {% endif %}
      </div>

      <!-- Term√≠n dokonƒçen√≠ -->
      <div class="form-group mb-4">
        <label for="id_due_date" class="block text-sm font-medium text-gray-700">Term√≠n dokonƒçen√≠</label>
        <input type="date" name="due_date" id="id_due_date" value="{{ form.due_date.value|date:'Y-m-d' }}" class="w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500">
        {% if form.due_date.errors %}
          <p class="text-red-600 text-sm mt-1">{{ form.due_date.errors|join:", " }}</p>
        {% endif %}
      </div>

      <!-- Akce -->
      <div class="flex justify-end gap-3 pt-4 border-t border-gray-200">
        <a href="{% url 'detail_project' project_id %}" class="btn btn-outline">Zru≈°it</a>
        <button type="submit" class="btn btn-primary">üíæ Ulo≈æit zmƒõny</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
