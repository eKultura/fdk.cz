{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ contact.first_name }} {{ contact.last_name|default:"" }} | FDK.cz{% endblock %}
{% block header_title %}ğŸ‘¤ {{ contact.first_name }} {{ contact.last_name|default:"" }}{% endblock %}
{% block header_subtitle %}{% trans "Detail kontaktu" %}{% endblock %}

{% block context_breadcrumbs %}
<span class="breadcrumb-link">OsobnÃ­</span>
<span class="breadcrumb-sep">â†’</span>
<a href="{% url 'list_contacts' %}" class="breadcrumb-link">Kontakty</a>
<span class="breadcrumb-sep">â†’</span>
<span style="font-weight: 600; color: #1e293b;">{{ contact.first_name }} {{ contact.last_name|default:"" }}</span>
{% endblock %}

{% block content %}

<div style="max-width: 1400px; margin: 0 auto;">

  <!-- Actions -->
  <div style="margin-bottom: 1.5rem; display: flex; gap: 0.75rem;">
    <a href="{% url 'edit_contact' contact.contact_id %}" class="btn btn-primary">âœï¸ {% trans "Upravit kontakt" %}</a>
    <a href="{% url 'delete_contact' contact.contact_id %}" class="btn btn-outline" style="color: #dc2626; border-color: #dc2626;" onclick="return confirm('{% trans "Opravdu chcete smazat tento kontakt?" %}')">ğŸ—‘ï¸ {% trans "Smazat" %}</a>
    {% if contact.project %}
      <a href="{% url 'detail_project' contact.project.project_id %}" class="btn btn-outline">â† {% trans "ZpÄ›t na projekt" %}</a>
    {% else %}
      <a href="{% url 'my_contacts' %}" class="btn btn-outline">â† {% trans "ZpÄ›t na kontakty" %}</a>
    {% endif %}
  </div>

  <!-- Contact Details -->
  <div class="content-card" style="margin-bottom: 1.5rem;">
    <h2 style="font-size: 1.5rem; font-weight: 700; color: #1e293b; margin-bottom: 1rem;">â„¹ï¸ {% trans "Informace o kontaktu" %}</h2>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
      <!-- JmÃ©no -->
      <div style="padding: 1rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.5rem;">{% trans "CelÃ© jmÃ©no" %}</div>
        <div style="font-weight: 600; color: #1e293b;">{{ contact.first_name }} {{ contact.last_name|default:"" }}</div>
      </div>

      <!-- Email -->
      <div style="padding: 1rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.5rem;">{% trans "Email" %}</div>
        {% if contact.email %}
          <a href="mailto:{{ contact.email }}" style="font-weight: 600; color: #2563eb;">{{ contact.email }}</a>
        {% else %}
          <span style="color: #64748b;">â€”</span>
        {% endif %}
      </div>

      <!-- Telefon -->
      <div style="padding: 1rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.5rem;">{% trans "Telefon" %}</div>
        {% if contact.phone %}
          <a href="tel:{{ contact.phone }}" style="font-weight: 600; color: #2563eb;">{{ contact.phone }}</a>
        {% else %}
          <span style="color: #64748b;">â€”</span>
        {% endif %}
      </div>

      <!-- SpoleÄnost -->
      <div style="padding: 1rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.5rem;">{% trans "SpoleÄnost" %}</div>
        <div style="font-weight: 600; color: #1e293b;">{{ contact.company|default:"â€”" }}</div>
      </div>

      <!-- Projekt -->
      <div style="padding: 1rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.5rem;">{% trans "Projekt" %}</div>
        {% if contact.project %}
          <a href="{% url 'detail_project' contact.project.project_id %}" class="font-semibold text-blue-600 hover:underline">
            {{ contact.project.name }}
          </a>
        {% else %}
          <span style="color: #64748b;">â€”</span>
        {% endif %}
      </div>

      <!-- SoukromÃ½ kontakt -->
      <div style="padding: 1rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
        <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.5rem;">{% trans "Typ kontaktu" %}</div>
        {% if contact.is_private %}
          <span style="padding: 4px 12px; background: #fef3c7; color: #92400e; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">
            ğŸ”’ {% trans "SoukromÃ½" %}
          </span>
        {% else %}
          <span style="padding: 4px 12px; background: #dbeafe; color: #1e40af; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">
            ğŸ¢ {% trans "FiremnÃ­" %}
          </span>
        {% endif %}
      </div>
    </div>

    <!-- Popis -->
    {% if contact.description %}
    <div style="margin-top: 1.5rem;">
      <div style="color: #64748b; font-size: 0.875rem; margin-bottom: 0.5rem;">{% trans "Popis" %}</div>
      <div style="padding: 1rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
        <p style="color: #475569; white-space: pre-wrap;">{{ contact.description }}</p>
      </div>
    </div>
    {% endif %}
  </div>

</div>
{% endblock %}
