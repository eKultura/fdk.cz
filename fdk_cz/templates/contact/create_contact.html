{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Nov√Ω kontakt" %} | FDK.cz{% endblock %}
{% block header_title %}üë• {% trans "Nov√Ω kontakt" %}{% endblock %}
{% block header_subtitle %}{% trans "P≈ôid√°n√≠ nov√©ho obchodn√≠ho kontaktu" %}{% endblock %}

{% block context_breadcrumbs %}
<span class="breadcrumb-link">Osobn√≠</span>
<span class="breadcrumb-sep">‚Üí</span>
<a href="{% url 'list_contacts' %}" class="breadcrumb-link">Kontakty</a>
<span class="breadcrumb-sep">‚Üí</span>
<span style="font-weight: 600; color: #1e293b;">Nov√Ω kontakt</span>
{% endblock %}

{% block content %}

<div class="max-w-4xl mx-auto">
  <!-- Actions -->
  <div class="mb-6 flex gap-3">
    <a href="{% url 'my_contacts' %}" class="btn btn-outline">‚Üê {% trans "Zpƒõt na seznam" %}</a>
  </div>

  <div class="content-card">
    <h3 class="text-xl font-semibold mb-6">üë• {% trans "Formul√°≈ô kontaktu" %}</h3>
    <form method="POST">
      {% csrf_token %}

      <!-- Z√°kladn√≠ informace -->
      <h4 class="text-lg font-semibold text-gray-800 mb-4 mt-6 pb-2 border-b-2 border-gray-200">üìù {% trans "Z√°kladn√≠ √∫daje" %}</h4>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div>
          <label for="id_first_name" class="form-label" style="display:block;margin-bottom:0.5rem;font-weight:500;color:#374151;">
            {% trans "Jm√©no" %} <span class="text-red-500">*</span>
          </label>
          <input type="text" name="first_name" id="id_first_name" class="form-control" value="{{ form.first_name.value|default_if_none:'' }}" required>
          {% if form.first_name.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.first_name.errors|join:", " }}</p>
          {% endif %}
        </div>
        <div>
          <label for="id_last_name" class="form-label" style="display:block;margin-bottom:0.5rem;font-weight:500;color:#374151;">
            {% trans "P≈ô√≠jmen√≠" %} <span class="text-red-500">*</span>
          </label>
          <input type="text" name="last_name" id="id_last_name" class="form-control" value="{{ form.last_name.value|default_if_none:'' }}" required>
          {% if form.last_name.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.last_name.errors|join:", " }}</p>
          {% endif %}
        </div>
      </div>

      <!-- Kontaktn√≠ √∫daje -->
      <h4 class="text-lg font-semibold text-gray-800 mb-4 mt-8 pb-2 border-b-2 border-gray-200">üìû {% trans "Kontaktn√≠ √∫daje" %}</h4>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div>
          <label for="id_phone" class="form-label" style="display:block;margin-bottom:0.5rem;font-weight:500;color:#374151;">
            {% trans "Telefon" %}
          </label>
          <input type="text" name="phone" id="id_phone" class="form-control" value="{{ form.phone.value|default_if_none:'' }}" placeholder="+420 XXX XXX XXX">
          {% if form.phone.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.phone.errors|join:", " }}</p>
          {% endif %}
        </div>
        <div>
          <label for="id_email" class="form-label" style="display:block;margin-bottom:0.5rem;font-weight:500;color:#374151;">
            {% trans "Email" %}
          </label>
          <input type="email" name="email" id="id_email" class="form-control" value="{{ form.email.value|default_if_none:'' }}" placeholder="jmeno@example.com">
          {% if form.email.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.email.errors|join:", " }}</p>
          {% endif %}
        </div>
      </div>

      <!-- Organizace a projekt -->
      <h4 class="text-lg font-semibold text-gray-800 mb-4 mt-8 pb-2 border-b-2 border-gray-200">üè¢ {% trans "Organizace" %}</h4>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <div>
          <label for="id_company" class="form-label" style="display:block;margin-bottom:0.5rem;font-weight:500;color:#374151;">
            {% trans "Firma" %}
          </label>
          <input type="text" name="company" id="id_company" class="form-control" value="{{ form.company.value|default_if_none:'' }}" placeholder="N√°zev firmy">
          {% if form.company.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.company.errors|join:", " }}</p>
          {% endif %}
        </div>
        <div>
          <label for="id_position" class="form-label" style="display:block;margin-bottom:0.5rem;font-weight:500;color:#374151;">
            {% trans "Pozice" %}
          </label>
          <input type="text" name="position" id="id_position" class="form-control" value="{{ form.position.value|default_if_none:'' }}" placeholder="Nap≈ô. Vedouc√≠ projektu">
          {% if form.position.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.position.errors|join:", " }}</p>
          {% endif %}
        </div>
        <div>
          <label for="id_project" class="form-label" style="display:block;margin-bottom:0.5rem;font-weight:500;color:#374151;">
            {% trans "Projekt" %}
          </label>
          {{ form.project }}
          <p class="mt-1 text-xs text-gray-500">{% trans "P≈ôi≈ôazen√≠ ke konkr√©tn√≠mu projektu" %}</p>
          {% if form.project.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.project.errors|join:", " }}</p>
          {% endif %}
        </div>
      </div>

      <!-- Pozn√°mka -->
      <div class="mb-8">
        <label for="id_description" class="form-label" style="display:block;margin-bottom:0.5rem;font-weight:500;color:#374151;">
          {% trans "Pozn√°mka" %}
        </label>
        <textarea name="description" id="id_description" class="form-control" rows="4" placeholder="Voliteln√© pozn√°mky o kontaktu...">{{ form.description.value|default_if_none:'' }}</textarea>
        {% if form.description.errors %}
          <p class="mt-1 text-sm text-red-600">{{ form.description.errors|join:", " }}</p>
        {% endif %}
      </div>

      <!-- Soukrom√Ω kontakt -->
      <div class="mb-8 p-4 bg-blue-50 border border-blue-200 rounded-lg">
        <div class="flex items-start gap-3">
          <input type="checkbox" name="is_private" id="id_is_private" class="mt-1" {% if form.is_private.value %}checked{% endif %}>
          <div>
            <label for="id_is_private" class="font-medium text-gray-800 cursor-pointer">üîí {% trans "Soukrom√Ω kontakt" %}</label>
            <p class="text-sm text-gray-600 mt-1">{% trans "Tento kontakt bude viditeln√Ω pouze pro v√°s. Ostatn√≠ ƒçlenov√© projektu ho neuvid√≠." %}</p>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="flex gap-3 pt-6 border-t-2 border-gray-200">
        <button type="submit" class="btn btn-primary">‚úì {% trans "P≈ôidat kontakt" %}</button>
        <a href="{% url 'my_contacts' %}" class="btn btn-outline">{% trans "Zru≈°it" %}</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
