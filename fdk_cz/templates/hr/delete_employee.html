{% extends "base.html" %}
{% block title %}Smazat zamÄ›stnance {{ employee.get_full_name }} | FDK.cz{% endblock %}
{% block header_title %}ğŸ—‘ï¸ Smazat zamÄ›stnance{% endblock %}
{% block header_subtitle %}PotvrzenÃ­ smazÃ¡nÃ­{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
  <div class="content-card">
    <div style="background: #fef2f2; border-left: 4px solid #dc2626; padding: 1rem; border-radius: 8px; margin-bottom: 2rem;">
      <h3 style="color: #991b1b; font-weight: 600; margin-bottom: 0.5rem;">âš ï¸ VarovÃ¡nÃ­</h3>
      <p style="color: #7f1d1d; margin: 0;">
        Opravdu chcete smazat zamÄ›stnance <strong>{{ employee.get_full_name }}</strong>?
        Tato akce je nevratnÃ¡.
      </p>
    </div>

    <div style="background: #f9fafb; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
      <h4 style="font-weight: 600; margin-bottom: 1rem; color: #1e293b;">Detail zamÄ›stnance:</h4>

      <div style="display: grid; gap: 0.75rem;">
        <div>
          <label style="font-size: 0.875rem; font-weight: 600; color: #64748b;">JmÃ©no:</label>
          <p style="color: #1e293b; margin: 0.25rem 0 0 0;">{{ employee.first_name }} {{ employee.last_name }}</p>
        </div>

        {% if employee.email %}
        <div>
          <label style="font-size: 0.875rem; font-weight: 600; color: #64748b;">Email:</label>
          <p style="color: #1e293b; margin: 0.25rem 0 0 0;">{{ employee.email }}</p>
        </div>
        {% endif %}

        <div>
          <label style="font-size: 0.875rem; font-weight: 600; color: #64748b;">Organizace:</label>
          <p style="color: #1e293b; margin: 0.25rem 0 0 0;">{{ employee.organization.name }}</p>
        </div>

        {% if employee.department %}
        <div>
          <label style="font-size: 0.875rem; font-weight: 600; color: #64748b;">OddÄ›lenÃ­:</label>
          <p style="color: #1e293b; margin: 0.25rem 0 0 0;">{{ employee.department.name }}</p>
        </div>
        {% endif %}

        {% if employee.position %}
        <div>
          <label style="font-size: 0.875rem; font-weight: 600; color: #64748b;">Pozice:</label>
          <p style="color: #1e293b; margin: 0.25rem 0 0 0;">{{ employee.position }}</p>
        </div>
        {% endif %}

        <div>
          <label style="font-size: 0.875rem; font-weight: 600; color: #64748b;">Status:</label>
          <p style="color: #1e293b; margin: 0.25rem 0 0 0;">{{ employee.get_status_display }}</p>
        </div>

        {% if employee.user %}
        <div>
          <label style="font-size: 0.875rem; font-weight: 600; color: #64748b;">PropojenÃ½ ÃºÄet:</label>
          <p style="color: #1e293b; margin: 0.25rem 0 0 0;">{{ employee.user.username }}</p>
        </div>
        {% endif %}
      </div>
    </div>

    {% if employee.user %}
    <div style="background: #fffbeb; border-left: 4px solid #f59e0b; padding: 1rem; border-radius: 8px; margin-bottom: 2rem;">
      <p style="color: #92400e; margin: 0; font-size: 0.875rem;">
        <strong>UpozornÄ›nÃ­:</strong> Tento zamÄ›stnanec mÃ¡ propojenÃ½ uÅ¾ivatelskÃ½ ÃºÄet ({{ employee.user.username }}).
        SmazÃ¡nÃ­ zamÄ›stnance NEODSTRANÃ uÅ¾ivatelskÃ½ ÃºÄet - pouze zruÅ¡Ã­ propojenÃ­.
      </p>
    </div>
    {% endif %}

    <form method="POST">
      {% csrf_token %}
      <div style="display: flex; gap: 0.75rem; justify-content: flex-end;">
        <a href="{% url 'detail_employee' employee.employee_id %}" class="btn btn-outline">ZruÅ¡it</a>
        <button type="submit" class="btn btn-primary" style="background: #dc2626; border-color: #dc2626;">
          ğŸ—‘ï¸ Ano, smazat zamÄ›stnance
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
